@page "/editor"
@using PageEditor.Components.Editor
@using StudentPortal.CommonComponents
@using StudentPortal.ComponentData.Abstractions
@using StudentPortal.ComponentData.Components
@using StudentPortal.ComponentData.Conversion
@using StudentPortal.PageEditor.Components
@using System.Text.Json

@code
{
    IComponentData Component = new RootComponent(new SectionComponent([new MarkdownComponent("")],
    SectionDisplayMode.Sequential));
    public void HandleChanges(IComponentData componentData)
    {
        Component = componentData;
        StateHasChanged();
    }
}

<CascadingValue TValue="PropagateChanges" Value="HandleChanges">
    <EditorRenderer Component=@Component />
</CascadingValue>